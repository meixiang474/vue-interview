- 在生成 ast 语法树时，遇到指令会给当前元素添加 directives 属性
- 通过 genDirectives 生成指令代码
- 在 patch 前将指令的钩子提取到 cbs 中，在 patch 过程中调用对应的钩子
- 当执行指令对应钩子函数时，调用钩子
